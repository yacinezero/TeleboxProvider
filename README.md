# إضافة Telebox لـ CloudStream

هذا المستودع يحتوي على إضافة (extension) لتطبيق CloudStream 3، والتي تتيح لك الوصول إلى ملفات الفيديو والميديا المخزنة في حسابك على خدمة Telebox (المعروفة أيضاً بـ Linkbox).

## الميزات

- **الوصول إلى ملفاتك**: تصفح وجلب الملفات مباشرة من حسابك في Telebox.
- **دعم المصادقة**: استخدم Token API الخاص بك للوصول الآمن إلى ملفاتك.
- **بحث متكامل**: ابحث عن ملفاتك داخل CloudStream.
- **جلب الروابط المباشرة**: احصل على روابط بث وتنزيل مباشرة لملفات الفيديو.
- **Fallback تلقائي**: في حال فشل الـ API، تحاول الإضافة استخدام web scraping كحل بديل.

## كيفية الاستخدام

### 1. الحصول على Token API

1.  اذهب إلى [صفحة حسابك في Linkbox](https://www.linkbox.to/admin/account).
2.  سجل الدخول باستخدام بريدك الإلكتروني وكلمة المرور.
3.  انسخ الـ **Token** الموجود في الصفحة.

### 2. الحصول على Base Folder ID (اختياري)

1.  اذهب إلى [ملفاتي في Linkbox](https://www.linkbox.to/admin/my-files).
2.  افتح المجلد الذي تريد استخدامه كمجلد أساسي.
3.  انسخ الـ ID من شريط العنوان. على سبيل المثال، إذا كان الرابط هو `https://www.linkbox.to/admin/share-folder/12345678`، فإن الـ ID هو `12345678`.

### 3. تثبيت الإضافة في CloudStream

1.  افتح CloudStream.
2.  اذهب إلى **Settings > Extensions > Add Repository**.
3.  أدخل رابط ملف `repo.json` الخاص بك (بعد رفعه إلى GitHub) في حقل "Repository URL".
4.  اضغط **Download**.
5.  اذهب إلى المستودع الذي أضفته للتو، وابحث عن إضافة **TeleboxProvider** وقم بتثبيتها.

### 4. تكوين الإضافة

1.  اذهب إلى **Settings > Providers > Telebox**.
2.  أدخل **Token API** الذي نسخته في الخطوة الأولى.
3.  (اختياري) أدخل **Base Folder ID** إذا كنت تريد البدء من مجلد معين.

## للمطورين: كيفية بناء ورفع المستودع

### 1. استبدال المتغيرات

قبل رفع المستودع إلى GitHub، تأكد من استبدال المتغيرات التالية:

-   في ملف `repo.json`: استبدل `yacinezero` باسم المستخدم الخاص بك على GitHub.
-   في ملف `plugins.json`: استبدل `yacinezero` و `YourName` بمعلوماتك.
-   في ملف `TeleboxProvider/build.gradle.kts`: استبدل `YourName` باسمك في `authors`.

### 2. بناء الإضافة

لتجميع الإضافة وإنشاء ملف `.cs3`، استخدم الأمر التالي من الطرفية (Terminal) في جذر المشروع:

```bash
./gradlew TeleboxProvider:make
```

سيتم إنشاء الملف في `TeleboxProvider/build/dist/`.

### 3. الرفع إلى GitHub

1.  أنشئ مستودعاً جديداً على GitHub (مثلاً، `TeleboxProvider`).
2.  ارفع جميع ملفات المشروع إلى المستودع.
3.  أنشئ إصداراً جديداً (Release) على GitHub.
4.  ارفع ملف `TeleboxProvider.cs3` الذي تم إنشاؤه إلى هذا الإصدار.
5.  تأكد من أن رابط ملف `plugins.json` في `repo.json` صحيح ويشير إلى المستودع الخاص بك.

## ملاحظات هامة

-   الـ API الخاص بـ Telebox غير موثق رسمياً، وقد يتغير في أي وقت.
-   تم بناء هذه الإضافة بناءً على reverse engineering لمستودعات أخرى، وقد لا تعمل جميع الميزات بشكل مثالي.
-   سرعة جلب الروابط تعتمد على خوادم Telebox.

## ترخيص

هذا المشروع مرخص تحت رخصة MIT. انظر ملف `LICENSE` لمزيد من التفاصيل.
